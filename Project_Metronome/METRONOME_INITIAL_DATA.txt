


KAM ROBERTSON
METRONOME PROJECT INITIAL NOTES


IDE:					MPLAB v8.92 (download)
PROGRAMMER:				PICkit3
MICROCONTROLLER:		PIC16F648A
OP-AMP:					LM386
VOLTAGE REGULATOR:		LM78LO5	(5.1V 100mA)
SOUND:					PIEZO BUZZER
DEBOUNCE:				SIMPLE CIRCUIT AND BUTTON
POWER SUPPLY:			6-13 VOLTS SINGLE SUPPLY
POWER JACK:				CENTER PIN POSITIVE 


HARDWARE NOTES:

PIN JUMPERS
RED		=	POWER 5V
GREEN	=	GROUND
YELLOW	=	PROGRAMMING
BLACK	=	INPUT/OUTPUT
BLUE	=	INTERRUPT INPUT

WE MUST HAVE MORE THAN 25% SURFACE MOUNT DEVICES.  IT WOULD BE NICE TO HAVE A BOARD THAT ACCEPTS SMD AND THRU HOLE
FOR ALL THE PARTS.  THIS WOULD ENSURE PARTS AVAILABILITY DURING TESTING AND DEVELOPMENT

CONTROLLING THE PIEZO USING THE RECOMMENDED VOLUME CONTROL ON THE OP AMP DOES NOT WORK.  CONTROLLING THE OP AMP POWER SUPPLY DOES WORK.  HMMM...
IT DOES WORK WELL FOR A CONVENTIONAL 4" SPEAKER AND VARIOUS SQUARE WAVE SIGNALS.  IF A SPEAKER IS HOOKED IN PARALLEL
WITH THE OUTPUT OF THE OP AMP IT STEALS THE SOUND... THIS IMPLIES THAT AN ON BOARD PIEZO AND A SPEAKER JACK WOULD 
COMPLIMENT NICELY, BUT, FURTHER EVALUATION IS NEEDED TO BE CERTAIN.
THE CURRENT POTENTIOMETER IS A NICE QUALITY 10k ohm
-	the output pin from the controller to the op amp should have a bleeder resistor, 10k ohm is probably good.  
-	This may work double as volume control, make it variable
 THIS NEEDS TO BE SORTED OUT AFTER SOME SOFTWARE DECISIONS HAVE BEEN ESTABLISHED



BUTTON DEBOUNCING.  THE CURRENT DEBOUNCER IS A VERY SIMPLE CIRCUIT WHICH MAY PROVE SATISFACTORY.  
SWITCH OR MANUAL INTERFACE.  WHAT TYPE OF SWITCH OR KNOB DO WE WANT?
THIS NEEDS TO BE SORTED OUT AFTER SOME SOFTWARE DECISIONS HAVE BEEN ESTABLISHED

THE LM386 OP AMP IS SET TO RUN ON WHATEVER SOURCE POWER IS PROVIDED.  
THE REGULATOR IS SIZED TO ONLY PROVIDE FOR THE MICRO CONTROLLER.


SOFTWARE NOTES:  

The 48kHz internal clock would add greatly to the battery life.  Unfortunately the 4MHz internal clock is currently active.

THE DELAY USED TO GIVE TIME TO THE LED'S IN THE PROGRAM IS A PROCEDURE.  I BELIEVE THIS IS GENERATING SOME CONFLICT WITH THE 
BUTTON AND IT'S INTERRUPT SERVICE.  THE LED'S SHOULD BE COUNTER OR INTERRUPT DRIVEN OR SOMETHING OTHER THAN WHAT I DID.

I HAVE READ THAT RA4 CAN ONLY SINK POWER....   I HAVE NOT BEEN ABLE TO PROVE THIS OR CAUSE RA4 TO SOURCE POWER

RA1 IS NOT RESPONDING. STUCK ON LOGIC LOW? I BELIEVE IT HAS NOT BEEN PROPERLY ENABLED OR INITIALIZED

RA6 IS NOT RESPONDING.  STUCK ON LOGIC HIGH?  I BELIEVE IT HAS NOT BEEN PROPERLY ENABLED OR INITIALIZED






